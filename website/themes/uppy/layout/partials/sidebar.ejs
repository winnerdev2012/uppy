<%
var categories = [
  { path: 'docs/plugins/', name: 'Plugins', link: true },
  { path: 'docs/providers/', name: 'Remote Providers', link: true },
  { path: 'docs/react/', name: 'React Components', link: true },
]
%>
<div class="Sidebar js-Sidebar">
  <ul class="main-menu">
    <%- partial('partials/main_menu') %>
  </ul>
  <div class="list">
    <h2>
      <% if (page.type) { %>
        <a href="/<%- type %>"><%- type === 'api' ? 'API' : (type.charAt(0).toUpperCase() + type.slice(1)) %></a>
      <% } %>
    </h2>
    <ul class="menu-root">
      <% site.pages.find({ type }).sort('order').each((p) => { %>
        <% var path = p.path.replace(/index\.html$/, ''); %>
        <% var category = categories.find((c) => c.path === path) %>
        <% // see https://github.com/vuejs/vuejs.org/blob/master/themes/vue/layout/partials/toc.ejs %>
        <% if (category) { %>
          <li>
            <% if (category.link) { %>
              <h3><a href="<%- category.path %>"><%- category.name %></a></h3>
            <% } else { %>
              <h3><%- category.name %></h3>
            <% } %>
          </li>
          <li>
            <a href="/<%- path %>" class="sidebar-link<%- page.title === p.title ? ' current' : '' %><%- p.is_new ? ' new' : '' %>"><%- p.title %></a>
          </li>
        <% } else { %>
          <li>
            <a href="/<%- path %>" class="sidebar-link<%- page.title === p.title ? ' current' : '' %><%- p.is_new ? ' new' : '' %>"><%- p.title %></a>
          </li>
        <% } %>
      <% }) %>
    </ul>
    <%- partial('partials/social') %>
  </div>
</div>
